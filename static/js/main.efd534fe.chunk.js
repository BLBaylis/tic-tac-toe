(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,n,r){e.exports={btn:"Game_btn__3Ovl-",winner:"Game_winner__3fSVd"}},function(e,n,r){e.exports={flipperContainer:"Flipper_flipperContainer__Ybe43",flipper:"Flipper_flipper__C8sGo",front:"Flipper_front__2vyNY",back:"Flipper_back__3Kl2R",flipped:"Flipper_flipped__3-RcQ"}},,,,,,function(e,n,r){e.exports={gameSquare:"GameSquare_gameSquare__2aLYP",user:"GameSquare_user__2UVOX",comp:"GameSquare_comp__3GtR9"}},function(e,n,r){e.exports={app:"App_app__3YMaN",appHeader:"App_appHeader__3q520",settingsBtn:"App_settingsBtn____gDS"}},,,function(e,n,r){e.exports={settings:"Settings_settings__hnrRa"}},function(e,n,r){e.exports={grid:"Grid_grid__28WBm","grid-3":"Grid_grid-3__3IjS2","grid-5":"Grid_grid-5__15GyL","grid-7":"Grid_grid-7__8ExxA"}},function(e,n,r){e.exports=r(28)},,,,,function(e,n,r){},,,,,,,,function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),o=r(12),u=r.n(o),i=(r(20),r(4)),c=r(5),l=r(7),s=r(6),f=r(8),m=r(1),d=r(2),g=r.n(d),p=r(3),v=r.n(p),S=function(e){var n=e.gameFlipped?v.a.flipped:null,r=a.a.cloneElement(e.front,{flip:e.flip}),t=a.a.cloneElement(e.back,{flip:e.flip});return a.a.createElement("div",{className:v.a.flipperContainer},a.a.createElement("div",{className:"".concat(v.a.flipper," ").concat(n)},a.a.createElement("div",{className:v.a.front},r),a.a.createElement("div",{className:v.a.back},t)))},h=r(13),b=r.n(h),_=function(e){return a.a.createElement("div",{className:b.a.settings},a.a.createElement("h2",null,"SETTINGS"),a.a.createElement("p",null,"Who goes first?"),a.a.createElement("button",{onClick:function(){return e.onClick("firstMove","user",e.argsFromState)}},"ME"),a.a.createElement("button",{onClick:function(){return e.onClick("firstMove","comp",e.argsFromState)}},"COMPUTER"),a.a.createElement("p",null,"Grid Size"),a.a.createElement("button",{onClick:function(){return e.onClick("gridSize",3,e.argsFromState)}},"3 x 3",a.a.createElement("br",null),"(recommended)"),a.a.createElement("button",{onClick:function(){return e.onClick("gridSize",5,e.argsFromState)}},"5 x 5"),a.a.createElement("button",{onClick:function(){return e.onClick("gridSize",7,e.argsFromState)}},"7 x 7"))},E=r(14),L=r.n(E),M=function(e){var n=L.a["grid-".concat(e.argsFromState.gridSize)];return a.a.createElement("div",{className:n},e.generateSquares(e.argsFromState))},N=r(9),y=r.n(N),C=function(e){var n=e.value?"".concat(y.a.gameSquare," ").concat(y.a[e.value]):y.a.gameSquare;return a.a.createElement("button",{className:n,onClick:e.onClick})},k=function(e,n){return Array(n).fill().map(function(r,t){return e*n+t})},z=function(e,n){return Array(n).fill().map(function(r,t){return e+t*n})},I=function(e){var n=(e-1)/2;return e*n+n},O=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,t=Math.floor(e/r);return!!k(t,r).every(function(e){return n[e]===n[t*r]&&n[e]})&&n[e]},w=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,t=e%r;return!!z(t,r).every(function(e){return n[e]===n[t]&&n[e]})&&n[e]},A=function(e){var n,r,t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(a%2===0||a<3)throw new Error("LineLength needs to be an odd number bigger than 3");var o=I(a),u=Array(a).fill().map(function(e,n){return n}),i=Array(a).fill().map(function(e,n){return n*a});return(n=O(o,e,a))||(n=w(o,e,a)),n||(n=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return!![Array(r).fill().map(function(e,n){return n*r+n}),Array(r).fill().map(function(e,n){return(n+1)*r-(n+1)})].some(function(r){return r.every(function(r){return n[r]===n[e]&&n[r]})})&&n[e]}(o,e,a)),n||((r=u.filter(function(n){return w(n,e,a)})).length?e[r[0]]:!!(t=i.filter(function(n){return O(n,e,a)})).length&&e[t[0]])},T=function(e,n){var r,t=n.board,a=n.userTurn,o=n.gridSize,u=n.gameLog,i=n.turnNo,c=u.slice(),l=t.slice();if(!t[e]){u[i+1]&&(c=u.slice(0,i+1)),l[e]=a?"user":"comp",i++;var s=A(l,o);s?r=s:function(e,n){return e>=Math.pow(n,2)}(i,o)&&(r="draw");var f={board:l,turnNo:i,userTurn:!a,outcome:r};return Object(m.a)({gameLog:c.concat(f),gridSize:o},f)}},q=function(e,n,r,t){return n.filter(function(e){return t[e]===r}).length===e},x=function(e,n,r,t){return t=t.filter(function(t){return q(e,t,r,n)})},F=function(e,n){return e.slice().filter(function(e){return null===n[e]})},G=function(e,n,r){return e.every(function(e){return null===r[e]||r[e]===n})},j=function(e,n){for(var r=e.slice(),t=Math.floor(Math.random()*r.length);null!==n[r[t]]&&r.length<0;)r.splice(t,1),t=Math.floor(Math.random()*r.length);return null===n[e[t]]&&e[t]},R=function(e,n,r,t){for(var a=[],o=r+1,u=t.slice();!a.length&&o>0;)a=x(--o,n,e,u).filter(function(r){return G(r,e,n)});return a.length?{lineLength:o,lines:a}:{lineLength:o,lines:[]}},B=function(e,n,r){var t=e.slice(),a=n.slice(),o=t.reduce(function(e,n){return void 0===a[n]?e:a[n].amountOfLinesSquareIndexIsIn>e[0].amountOfLinesSquareIndexIsIn?e=[].concat(a[n]):a[n].amountOfLinesSquareIndexIsIn===e[0].amountOfLinesSquareIndexIsIn?e=e.concat(a[n]):e},[{amountOfLinesSquareIndexIsIn:[]}]);if(o[0].amountOfLinesSquareIndexIsIn<1)return j(e,r);var u=o.map(function(e){return e.squareIndex});return u.length>1?j(u,r):u},W=function(e,n){return e.slice().map(function(e){return e.filter(function(e){return null===n[e]})}).reduce(function(e,n){return e.concat(n)},[])},Y=function(e,n){return e.slice().reduce(function(e,n){return void 0===e[n]?e[n]={squareIndex:n,amountOfLinesSquareIndexIsIn:1}:e[n].amountOfLinesSquareIndexIsIn++,e},Array(Math.pow(n,2)).fill())},H=function(e,n,r){var t=W(e,n);return Y(t,r)},J=function(e,n,r,t){var a=e.reduce(function(e,n){return e.concat(F(n,r))},[]),o=H(n,r,t);return B(a,o,r)},P=function(e,n,r){if(!r.board[e])return e;if(3===r.gridSize&&3===r.turnNo&&(2===[0,8].filter(function(e){return"user"===r.board[e]}).length||2===[2,6].filter(function(e){return"user"===r.board[e]}).length))return j([1,3,5,7],r.board);var t=Object(m.a)({},R("comp",r.board,r.gridSize,n)),a=t.lineLength,o=t.lines,u=Object(m.a)({},R("user",r.board,r.gridSize,n)),i=u.lineLength,c=u.lines;if(a>=i){if(0===a){var l=r.board.slice().map(function(e,n){return null!==e?null:n}).filter(function(e){return null!==e});return j(l,r.board)}return J(o,c,r.board,r.gridSize)}return J(c,o,r.board,r.gridSize)},U=function(e){return Array(e).fill().map(function(e,n){return n}).map(function(n){return k(n,e)})},V=function(e){return Array(e).fill().map(function(e,n){return n}).map(function(n){return z(n,e)})},D=function(e){return[Array(e).fill().map(function(n,r){return r*e+r}),Array(e).fill().map(function(n,r){return(r+1)*e-(r+1)})]},K=function(e){var n=[0,Math.pow(e,2)-1],r=n.map(function(n){return function(e,n){var r=Math.floor(e/n);return k(r,n)}(n,e)});return r.concat(n.map(function(n){return function(e,n){return z(e%n,n)}(n,e)}))},Q=function(e){return K(e).map(function(e){return e.slice(1,e.length-1)}).reduce(function(e,n){return e.concat(n)},[])},X=function(e){return{allLines:[].concat(V(e),U(e),D(e)),columns:V(e),rows:U(e),diagonals:D(e),edges:K(e),middleEdgeSquares:Q(e)}},Z=function(e){var n,r=0,t=e.firstMove,a=e.gridSize,o={board:Array(Math.pow(a,2)).fill(null),turnNo:0,userTurn:"user"===t,gameLog:[{board:Array(Math.pow(a,2)).fill(null),turnNo:0,userTurn:"user"===t,outcome:void 0}],outcome:void 0,gridSize:a},u=Math.pow(e.gridSize,2);for("comp"===e.firstMove&&(n=ee(o),r=1);r<u;r+=2){if(void 0!==(n=$(o)).outcome)return n;if(void 0!==(n=ee(n)).outcome)return n}return n},$=function(e){var n=Array(e.gridSize).fill().map(function(e,n){return n}),r=F(n,e.board),t=Math.floor(Math.random()*r.length);return T(r[t],e)},ee=function(e){var n=I(e.gridSize),r=X(e.gridSize),t=P(n,r.allLines,e);return T(t,e)},ne=function(e,n){var r;return 1e4*Math.random()>9990&&(r=re(e.gameLog),n.randomGamesLog.push(r)),"user"===e.outcome?(n.userCounter++,r=re(e.gameLog),n.userWinsLog.push(r)):"comp"===e.outcome?n.compCounter++:"draw"===e.outcome?n.drawCounter++:(n.noOutcome++,r=re(e.gameLog),n.noOutcomeLog.push(r)),n},re=function(e){return e.slice().reduce(function(e,n){return n.board.map(function(n,r){return null===n||e.includes(r)||e.push(r),n}),e},[])},te=function(e){function n(){var e,r;Object(i.a)(this,n);for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return(r=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o)))).state={board:Array(9).fill(null),gameLog:[{board:Array(9).fill(null),turnNo:0,userTurn:!0,outcome:void 0}],turnNo:0,userTurn:!0,outcome:void 0,gridSize:3,firstMove:"user",gameFlipped:!1},r.handleClick=function(e,n){var t=T(e,n);void 0===t.outcome&&(t=ee(t)),r.setState(t)},r.restart=function(e,n){var t,a={board:Array(Math.pow(n,2)).fill(null),turnNo:0,userTurn:"user"===e,gameLog:[{board:Array(Math.pow(n,2)).fill(null),turnNo:0,userTurn:"user"===e,outcome:void 0}],outcome:void 0,gridSize:n};"comp"===e?(t=ee(a),r.setState(t)):r.setState(a)},r.undoTurn=function(){r.setState(function(e){var n=e.gameLog[e.turnNo-2];if(n)return!1===n.userTurn&&(n=e.gameLog[e.turnNo-1]),{board:n.board,turnNo:n.turnNo,userTurn:n.userTurn,outcome:n.outcome}})},r.redoTurn=function(){r.setState(function(e){var n=e.gameLog[e.turnNo+2];if(n)return{board:n.board,turnNo:n.turnNo,userTurn:n.userTurn,outcome:n.outcome}})},r.changeSetting=function(e,n,t){var a={};a[e]=n,r.setState(a,function(){"firstMove"===e?r.restart(n,t.gridSize):r.restart(t.firstMove,n)})},r.flip=function(){r.setState(function(e){return{gameFlipped:!e.gameFlipped}})},r.generateSquares=function(e){var n=e.board.slice();return Array(Math.pow(e.gridSize,2)).fill().map(function(t,o){return a.a.createElement(C,{key:o,value:n[o],onClick:function(){return r.handleClick(o,e)}})})},r.simulateManyGamesAndRecordResults=function(e,n){for(var t,a={userCounter:0,compCounter:0,drawCounter:0,noOutcome:0,userWinsLog:[],noOutcomeLog:[],randomGamesLog:[]},o=n.gridSize,u=n.firstMove,i=0;i<e;i++)t=Z(n),console.log("game ".concat(i," finished")),a=ne(t,a),r.restart(u,o);console.log(a)},r}return Object(f.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this,n=Object(m.a)({},this.state),r={board:n.board,gridSize:n.gridSize,turnNo:n.turnNo,outcome:n.outcome,gameLog:n.gameLog,userTurn:n.userTurn};return a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{flip:this.flip,gameFlipped:n.gameFlipped,front:a.a.createElement(M,{argsFromState:r,generateSquares:this.generateSquares}),back:a.a.createElement(_,{argsFromState:{gridSize:n.gridSize,firstMove:n.firstMove},onClick:this.changeSetting})}),a.a.createElement("button",{className:g.a.btn,onClick:function(){return e.restart(n.firstMove,n.gridSize)}},"restart"),a.a.createElement("button",{className:g.a.btn,onClick:this.undoTurn},"undo"),a.a.createElement("button",{className:g.a.btn,onClick:this.redoTurn},"redo"),a.a.createElement("button",{className:g.a.btn,onClick:function(){return e.simulateManyGamesAndRecordResults(1e4,{firstMove:n.firstMove,gridSize:n.gridSize})}},"debug"),a.a.createElement("button",{className:g.a.btn,onClick:this.flip},"settings"),a.a.createElement("h2",{className:g.a.winner},"outcome: ",n.outcome,"!"))}}]),n}(a.a.Component),ae=r(10),oe=r.n(ae),ue=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:oe.a.app},a.a.createElement("header",{className:oe.a.appHeader},a.a.createElement("h1",null,"Brad's Tic Tac Toe")),a.a.createElement(te,null))}}]),n}(t.Component);u.a.render(a.a.createElement(ue,null),document.getElementById("root"))}],[[15,2,1]]]);
//# sourceMappingURL=main.efd534fe.chunk.js.map